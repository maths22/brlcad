/*
 *			librt/Cakefile
 */
#define SRCDIR	librt
#define PRODUCTS	librt.ARCH_SUF
#define	SRCSUFF	.c
#define MANSECTION	3

#include "../Cakefile.defs"

/* Separate into orderly groupings:
 *	Raytrace logic
 *	Database handling
 *	Geometry routines
 *	Utility routines
 */
/* 	complex debug plane polyno */
#define FILES	\
	shoot \
	cut bool \
	db_open db_scan db_lookup db_io db_alloc db_walk \
	db_path db_tree db_anim \
	memalloc \
	table dir tree prep \
	g_arb g_ars g_ebm g_ell g_half g_pg g_rec g_sph g_nurb \
	g_tgc g_torus g_vol g_arbn g_part g_pipe g_nmg \
	cmd complex mat qmath mater parse polylib roots plane \
	machine LIBRT_TIMER log bomb storage const pr hist global \
	sphmap rtstring inout \
	nmg_mk nmg_misc nmg_bool nmg_eval nmg_inter nmg_plot nmg_ck \
	nmg_mesh nmg_comb nmg_class nmg_mod nmg_index nmg_rt nmg_manif \
	units magic msr vert

#define NURB_OBJ	\
	nurb_basis.o nurb_bound.o nurb_diff.o nurb_knot.o \
        nurb_eval.o nurb_flat.o nurb_poly.o nurb_xsplit.o \
        nurb_split.o nurb_util.o nurb_refine.o nurb_solve.o nurb_bezier.o \
        oslo_calc.o oslo_map.o nurb_ray.o nurb_norm.o nurb_copy.o nurb_plot.o


#define PLOT_OBJ	plot3.o htond.o

#ifdef FAST_SQRT
#	define	EXTRA_OBJ	FAST_SQRT PLOT_OBJ NURB_OBJ
#else
#	define	EXTRA_OBJ	PLOT_OBJ NURB_OBJ
#endif

#include "../Cakefile.lib"

/*
 *  Special rules for additions from other directories
 */
%.o&:	libplot3,,%,o			if exist ../libplot3/%.c

#if NFS
%.o:	../libnurb/%.c			if exist ../.libnurb.MTYPE/%.o
	cp ../.libnurb.MTYPE/%.o %.o
#else
%.o:	../libnurb/%.c			if exist ../libnurb/%.o
	cp ../libnurb/%.o %.o
#endif

#include "../Cakefile.rules"
