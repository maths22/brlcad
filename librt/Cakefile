/*
 *			librt/Cakefile
 */
#define SRCDIR	librt
#define PRODUCTS	librt.ARCH_SUF
#define	SRCSUFF	.c
#define MANSECTION	3

#include "../Cakefile.defs"

/* Separate into orderly groupings:
 *	Raytrace logic
 *	Database handling
 *	Geometry routines
 *	Utility routines
 */
/* 	complex debug plane polyno */
#define FILES	\
	shoot \
	cut bool \
	db_open db_scan db_lookup db_io db_alloc db_walk \
	db_path db_tree db_anim \
	memalloc \
	table dir tree prep \
	g_arb g_ars g_ebm g_ell g_half g_pg g_rec g_sph g_spline \
	g_tgc g_torus g_vol g_arbn g_part g_pipe \
	cmd complex mat qmath mater parse polylib roots plane \
	machine LIBRT_TIMER log bomb storage const pr hist \
	sphmap rtstring \
	nmg_mk nmg_misc nmg_bool nmg_eval nmg_inter nmg_plot nmg_ck \
	nmg_mesh nmg_comb nmg_class

#define SPL_OBJ	\
	bound_spl.o calc_oslo.o diff_spl.o knot.o map_oslo.o new_spl.o \
	pr_spl.o refine_spl.o solve.o spl_eval.o spl_flat.o spl_poly.o \
	split_spl.o

#define PLOT_OBJ	plot3.o htond.o

#ifdef FAST_SQRT
#	define	EXTRA_OBJ	FAST_SQRT PLOT_OBJ SPL_OBJ
#else
#	define	EXTRA_OBJ	PLOT_OBJ SPL_OBJ
#endif

#include "../Cakefile.lib"

/*
 *  Special rules for additions from other directories
 */
%.o&:	libplot3,,%,o			if exist ../libplot3/%.c

#if defined(NFS)
%.o:	../libspl/%.c			if exist ../.libspl.MTYPE/%.o
	cp ../.libspl.MTYPE/%.o %.o
#else
%.o:	../libspl/%.c			if exist ../libspl/%.o
	cp ../libspl/%.o %.o
#endif

#include "../Cakefile.rules"
