/*
 *			canon/Cakefile
 */

#define SRCDIR	canon
#define PRODUCTS	canonize pix-ipu ipustat

#if defined(__sgi) || defined(sgi)
#define DSLIB	-lds
#else
#define DSLIB
#endif

#define	SRCSUFF	.c
#define MANSECTION	1

#include "../Cakefile.defs"

/* XXX
 * The following is necessary because SGI's <sys/dsreq.h> won't pass the
 * -ansiposix flag on their own compiler under Irix 4.0.1 or 5.  Sigh.
 */
#if defined(__sgi) || defined(sgi) || defined(mips)
#undef CFLAGS
#define CFLAGS -O -I../h -DHAVE_STDLIB_H -DHAVE_UNISTD_H
#endif

#include "../Cakefile.prog"
/* Explicit composition of each product */

canonize : canonize.o canonlib.o asize.o
	cc LDFLAGS -o canonize canonize.o canonlib.o asize.o DSLIB LIBES

pix-ipu : pix-ipu.o canonlib.o asize.o
	cc LDFLAGS -o pix-ipu pix-ipu.o canonlib.o asize.o DSLIB LIBES

ipustat : ipustat.o canonlib.o
	cc LDFLAGS -o ipustat ipustat.o canonlib.o DSLIB LIBES

#include "../Cakefile.rules"
