/*
 *			remrt/Cakefile
 */

#define CONFIGDEFS	RFBD_CONFIG

#define SRCDIR	remrt
#define PRODUCTS	remrt rtsrv
#define	SRCSUFF	.c
#define MANSECTION	1

#define FILES	remrt rtsrv


#include "../Cakefile.defs"
#include "../Cakefile.prog"

#ifdef NFS
#	define	RTDIR	../.rt.MTYPE
#else
#	define	RTDIR	../rt
#endif

#define	RT_PIECES	RTDIR/text.o RTDIR/cloud.o \
		RTDIR/worker.o RTDIR/wray.o \
		RTDIR/material.o RTDIR/refract.o RTDIR/stack.o \
		RTDIR/plastic.o RTDIR/cook.o \
		RTDIR/mathtab.o RTDIR/marble.o RTDIR/stxt.o \
		RTDIR/spm.o RTDIR/light.o RTDIR/cmd.o RTDIR/do.o \

/* Explicit composition of each product */

remrt:	remrt.o LIBFB LIBMALLOC
	CC LDFLAGS -o remrt remrt.o LIBFB LIBMALLOC LIBES

/* Specially compiled version of RT view.c */
view.o:	../rt/view.c
	CC CFLAGS -DRTSRV -c ../rt/view.c

rtsrv:	rtsrv.o view.o LIBRT LIBFB LIBMALLOC
	CC LDFLAGS -o rtsrv rtsrv.o view.o RT_PIECES \
		LIBRT LIBFB RT_LIBES LIBMALLOC LIBES

#include "../Cakefile.rules"
