'\"	fbstretch.1	%W% %E%
'\" Edit the next two lines to configure for your system:
.ds ms 1\" utility manual section, normally 1B -- alternatives are 1, 1L, etc.
.ds Vs 1V\" hoc manual section, normally 1V -- alternatives are 1, 1B, 1L, etc.
.ds ls 3\" library manual section, normally 3B -- alternatives are 3, 3L, etc.
.ds fs 5\" format manual section, normally 5B -- alternatives are 5, 5L, etc.
.ie t .ds pf B\" "printout" font, normally (CW -- use B if you don't have one
.el .ds pf 1
'\"
.de CW
.lg 0
\%\&\\$3\f\*(pf\\$1\fP\&\\$2
.lg
..
.TH FBSTRETCH \*(ms "BRL CAD package"
.SH NAME
fbstretch \- stretch a frame buffer image
.SH SYNOPSIS
.CW fbstretch
[
.CW -h
] [
.CW -i
.I "input image name"
] [
.CW -s
]
.br
	[
.CW -x
.I "horizontal scale factor"
] [
.CW -y
.I "vertical scale factor"
] [
.I "output frame buffer name"
]
.SH DESCRIPTION
.CW fbstretch
expands or compresses a frame buffer image,
in either or both the horizontal and vertical directions.
The image scaling origin is taken to be
the lower left-hand corner of the display.
When expanding (scale factor greater than 1), pixels are simply replicated;
when compressing (scale factor less than 1), pixel averaging is performed
unless sampling is explicitly requested.
.SS Options
.TP "\w'\f\*(pf-x\fP \fIhorizontal scale factor\fP\ \ \ 'u"
.CW -h
(``high resolution'')\ 
Assumes 1024 by 1024 pixels for the input frame buffer size
instead of the default 512 by 512.
The output frame buffer size requested will be the same as
the actual input image size if
.CW fbstretch
determines that the input and output frame buffers are the same;
otherwise,
the output frame buffer size requested will be that of the stretched image.
Actual sizes depend on details of the specific frame buffers.
If there are output margins outside the stretched image,
they will be cleared to the background color;
if the stretched image would extend beyond the output frame buffer,
it will be clipped to fit.
.TP
\f\*(pf-i\fP \fIinput image name\fP
Inputs the image to be displayed from the specified frame buffer or pix file,
instead of modifying the output frame buffer ``in place''.
.TP
.CW -s
Specifies that output pixels will be sampled from the input,
instead of being computed by averaging the RGB values.
.TP
\f\*(pf-x\fP \fIhorizontal scale factor\fP
Scales the image by the specified factor in the horizontal direction
(default 1).
.TP
\f\*(pf-y\fP \fIvertical scale factor\fP
Scales the image by the specified factor in the vertical direction
(default 1).
.TP
.I "output frame buffer name"
Outputs to the specified frame buffer
instead of the one specified by the
.CW FB_FILE
environment variable
(or the default frame buffer, if
.CW FB_FILE
is not set).
.SH DISCUSSION
Pixel averaging may be meaningless for some images or color maps,
in which case the sampling option should be specified.
Images of the Mandelbrot set (see \fImandel\fP(\*(ms))
are a good example of this.
.SH EXAMPLE
The following procedure adjusts the aspect ratio
of an image obtained from a personal computer
.I via
the
.CW gif-fb
utility.
(\f\*(pfhoc\fP
is a calculator utility described in
``The UNIX Programming Environment''
by Brian W. Kernighan and Rob Pike
(Prentice-Hall, 1984)
that is locally supported by BRL/VLD-VMB.)
.RS
\fI$\fP \|\f\*(pfgif-fb \|image.gif	# display the PC image\fP
.br
\fI$\fP \|\f\*(pffbstretch \|-x \`echo 512/320 | hoc\` \|-y \`echo 512/200 | hoc\`\fP
.RE
.SH "SEE ALSO"
gif-fb(\*(ms), mandel(\*(ms), hoc(\*(Vs), libfb(\*(ls), pix(\*(fs).
.SH DIAGNOSTICS
Error messages are intended to be self-explanatory.
.SH AUTHOR
Douglas A.\& Gwyn, BRL/VLD-VMB
