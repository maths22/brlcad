.TL
The BRL-CAD Benchmark Test
.AU
Michael John Muuss
.PP
This document describes the BRL-CAD Benchmark Test Methodology,
and the Ray-Tracing Figure of Merit (RTFM) used to judge the
computational performance of different computer systems.
.PP
The core of the test is the \fBrt\fR ray-tracing program.
The results for each processor are determined by
running a benchmark test of the RT ray-tracing program on each of the sample
databases provided.  Each run will produce a 512x512x24 bit color
shaded image in a "bench/xxx.pix" file, and a run log in "bench/xxx.log".
Reference copies of the images are provided as "pix/xxx.pix" and
"pix/xxx.log".  The sample databases provided are processed in
order of increasing difficulty, and each produces a colorful image.  In
each picture there are two light sources; the primary source is located
near the center of the model (the white ball), and the secondary light
source is located at the "eye" position.
.sp
moss.g  --  This is a simple model, containing a yellow torus,
a green ellipsoid, a bluish cube, a pink truncated (distorted) cone,
all sitting on a blue plate.  Note the shadowing, and "specular splash".
.sp
world.g -- The same model as moss.g, but with various rendering
features enabled.  The model is enclosed in a hollow cloud sphere.
The plate is a mirror, the egg is crystal, the box has a debugging
texture map applied.
.sp
star.g  --  A familiar sight to Star Trek fans;  a low-detail exterior
of the ship "Enterprise".  The hull is white, with some other structures
in other colors.  The small red object in the foreground is the
shuttlecraft Galileo, to scale.
.sp
bldg391.g  --  An exploded view of a two-story imaginary computer site,
including various walls, red stairways, green disk drives, etc.
The lower floor is a mirror, the upper floor is glass.
.sp
The RT benchmark requires a binary database for input ("db/xxx.g"), and
produces a binary image as output ("bench/xxx.pix"), along with a log
file ("bench/xxx.log").  To make the benchmark
 distribution machine independent,
the databases are provided
in an ASCII format in the "db" directory, and
ascii-to-binary converters are provided.
If you are running this
benchmark on a non-UNIX machine that has difficulty writing binary
streams, change the "-o file.pix" flag to "-O file.a_pix" and RT
will write an ASCII form directly.  For more discussion, consult
the doc/pix.5 and conv/asc2pix.1 manual pages.
.IP "BENCHMARK RESULTS"
.sp
In the tradition of Dongarra, the Rays/sec figure is considered the
"RT Figure of Merit" (RTFM).  Note that the RTFM can only be compared
between different runs on the \fIsame\fR database;  it is not meaningful
to compare RTFM numbers between different databases. The Rays/sec number
for a multi-processor machine is for "aggregate CPU cluster seconds",
rather than rays/total CPU seconds (which remains fairly constant on
good parallel machines). Worthy finalists to date are listed below.
Entries are omitted for tests in which correct results were not
obtained.
.sp
.TS
center box;
l l.
System Name	Configuration
_	_
alliant	Alliant FX/8 (8 CEs, 9 IPs, 64 Mbytes), Concentrix 3.0
amsaa-seer	Gould PN 9080, w/MACCs, UTX 2.0, 4x4Mb mem boards
ardec-3	Pyramid 90Mx, Dual-CPU, OSx 2.5, 16 Mbytes
bob.brl.mil	Cray-2, SN 2009, 4.3ns clock
brl-patton	Cray X-MP/48, SN213, COS V115BF2, 8.5ns clock
brl-spark	Gould PN 9050, no MACC, UTX 1.2, 2x4Mb mem boards
brl-vat	VAX 750, FPA, 4.2 BSD
brl-vector	Alliant FX/8 (8 CEs, 6 IPs, 32 Mbytes), Concentrix 2.0
brl-vgr	VAX 780, FPA, 4.3 BSD
brl-virus	Sun-3/50, 15 Mhz clock, 12 Mhz 68881, Sun UNIX 3.2
brl-vista	SGI 3030, w/FP chip, UNIX release 3.5
brl-vmb	Gould PN 9080, no MACCs, UTX 2.0, 12x1Mb mem boards
brl-vhs	Silicon Graphics 4D/60T, 12.5 Mhz clock 8MB memory
c1east	Convex C1 XP (2 IOPs, 4 Multibus, 4-way disk striping, 64 Mbytes), Convex Unix 6.0.1.12
elxsi-gnu	Elxsi 6420, BSD 4.2 16 MB
elxsi-gnuy	Elxsi 6420, Sys Vr2, 16MB
elxsi-m1	Elxsi 6410, BSD 4.2 16 MB
hep	Denelcor HEP, 4 PEMs
indigo	SGI Iris 3030, FPA, GL2-W3.5
multiflow	Multiflow Trace 7/200 (PRELIMINARY)
nrl-xmp	Cray X-MP/12, COS V115, 9.5ns clock
nrtc-785	VAX 785, FPA, VMS+Eunice_4.1
nrtc-dryer	Ridge 330, ROS
nrtc-gremlin	ISI 68020, no FP hardware, 4.2 BSD
snm2	Cray 1-M, SN2, UNICOS 2.0
tek4132	Tektronix 4132, 32082 fpp, UTek 2.3
utah-gr	VAX 785, FPA, 4.3 BSD
utah-ug	VAX 8600, FPA, 4.3 BSD
violet	VaxStationII GPX, Ultrix 1.2
vortac	Sun-3/160, 16.67 Mhz clock, 12 Mhz 68881, Sun 3.2
.TE
.fi
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/moss.log"	Release 2.3
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  83.2	  118.8	  1.00	brl-vgr
 262.8	  375.4	  3.16	brl-vmb, UTX 2.0
 670.9	  958.3	  8.07	brl-vhs, -O2 optimization
1418.7	 1856.7	 15.63	bob.brl.mil, 1 CPU, UNICOS 3.0, CC -O
1851.7	 2423.5	 20.40	bob.brl.mil, 1 CPU, UNICOS 3.0, VCC -O
2420.2	 3456.5	 29.10	brl-patton, 1 CPU, no vectors, UNICOS 2.1
.TE
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/moss.log"	Release 1.20
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  12.3	   17.6	  0.16	nrtc-gremlin
  56.4	   80.5	  0.72	tek4132
  57.2	   81.6	  0.73	brl-vat
  75.4	  107.7	  0.96	violet
  78.5	  112.1	  1.00	brl-vgr
  81.2	  115.9	  1.03	indigo
  81.5	  116.4	  1.04	brl-vista
  83.3	  119.0	  1.06	violet w/fast_sqrt
  86.7	  123.8	  1.10	nrtc-785
  89.2	  127.3	  1.14	brl-virus
 103.8	  148.2	  1.32	vortac
 134.3	  191.8	  1.71	utah-gr
 158.6	  226.5	  2.02	nrtc-dryer
 266.7	  380.5	  3.39	elxsi-m1
 269.4	  384.7	  3.43	brl-spark, UTX 1.2
 289.5	  413.4	  3.69	brl-spark, UTX 2.0
 289.9	  413.9	  3.69	brl-vmb, UTX 2.0
 318.5	  454.8	  4.06	c1east, Convex Unix 6.0.1.12, vanilla cc
 332.6	  460.7	  4.11	amsaa-seer, UTX 2.0
 345.2	  492.9	  4.40	brl-vector, 1 CE, no vectors (1.00X)
 364.5	  520.6	  4.64	elxsi-gnu BSD 4.2
 364.9	  521.1	  4.64	utah-ug
 365.3	  521.6	  4.66	c1east, Convex Unix 6.0.1.12, vc -O1 (scalar)
 365.9	  527.7	  4.71	c1east, Convex Unix 6.0.1.12, vc -O2 (vector)
 451.5	  644.7	  5.75	elxsi-gnuy SysV
 591.9	  845.2	  7.54	multiflow (preliminary)
 679.8	  904.9	  8.07	brl-vector, 2 CEs, no vectors (1.84X)
1018.2	 1375.5	 12.27	brl-vector, 3 CEs, no vectors (2.79X)
1309.5	 1813.5	 16.17	brl-vector, 4 CEs, no vectors (3.68X)
1396.6	 1994.3	 17.79	nrl-xmp, no vectors, no optim
1722.5	 2364.1	 21.08	brl-vector, 5 CEs, no vectors (4.80X)
1745.0	 2492.9	 22.24	snm2, no vectors, no optim
1752.1	 2502.0	 22.32	hep, 1 PEM, npsw=10
2040.8	 2811.4	 25.08	brl-vector, 6 CEs, no vectors (5.7X)
2330.7	 3248.8	 28.98	brl-vector, 7 CEs, no vectors (6.5X)
2418.3	 3453.3	 30.81	brl-patton, 1 CPU, no vectors, no optim (1.00X)
2632.2	 3677.3	 32.80	brl-vector, 8 CEs, no vecotrs (7.46X)
2786.0	 3972.9	 35.44	alliant, 8 CEs, no vectors
2840.3	 4055.9	 36.18	hep, 1 PEM, npsw=40
4802.1	 6856.5	 61.16	brl-patton, 2 CPUs, no vectors, no optim (1.99X)
7148.1	10205.1	 91.04	brl-patton, 3 CPUs, no vectors, no optim (2.96X)
9331.8	13320.2	118.82	brl-patton, 4 CPUs, no vectors, no optim (3.86X)
.TE
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/world.log"	Release 2.3
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  36.0	   64.9	  1.00	brl-vgr
 121.3	  218.6	  3.37	brl-vmb, UTX 2.0
 302.6	  545.6	  9.41	brl-vhs, -O2 optimization
 479.3	  801.9	 12.36	bob.brl.mil, 1 CPU, UNICOS 3.0, CC -O
 625.0	 1045.7	 16.11	bob.brl.mil, 1 CPU, UNICOS 3.0, VCC -O
 938.4	 1691.8	 26.07	brl-patton, 1 CPU, no vectors, UNICOS 2.1
.TE
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/world.log"	Release 1.20
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  24.4	   44.0	 0.69	tek4132
  32.3	   57.3	 0.90	violet
  35.5	   63.0	 0.99	violet, w/fast_sqrt
  35.9	   63.6	 1.00	brl-vgr
  38.5	   68.4	 1.08	ardec-3
  39.4	   69.9	 1.10	brl-virus
  45.6	   81.0	 1.27	vortac
  48.1	   85.3	 1.34	indigo
  48.4	   86.0	 1.35	brl-vista
  59.6	  105.8	 1.66	utah-gr
 128.5	  228.0	 3.58	brl-vector, 1 CE, no vectors
 130.7	  232.0	 3.65	brl-spark, UTX 2.0
 131.1	  232.2	 3.65	elxsi-m1
 131.5	  233.4	 3.67	brl-vmb, UTX 2.0
 142.2	  252.4	 3.97	c1east, Convex Unix 6.0.1.12, vanilla cc
 148.3	  263.2	 4.14	amsaa-seer, UTX 2.0
 160.8	  285.3	 4.49	c1east, Convex Unix 6.0.1.12, vc -O1 (scalar)
 161.9	  287.4	 4.52	c1east, Convex Unix 6.0.1.12, vc -O2 (vector)
 164.6	  292.1	 4.59	utah-cs
 177.7	  315.4	 4.96	elxsi-gnu BSD 4.2
 196.8	  349.3	 5.49	elxsi-gnuy SysV
 247.6	  439.5	 6.91	multiflow (preliminary)
 257.3	  424.6	 6.68	brl-vector, 2 CEs, no vectors
 379.1	  650.0	10.22	brl-vector, 3 CEs, no vectors
 491.3	  845.5	13.29	brl-vector, 4 CEs, no vectors
 642.16	 1104.4	17.36	brl-vector, 5 CEs, no vectors
 762.38	 1319.0	20.74	brl-vector, 6 CEs, no vectors
 853.3	 1514.3	23.81	brl-patton, 1 CPU, no vectors
 880.42	 1533.0	24.10	brl-vector, 7 CEs, no vectors
 987.62	 1724.2	27.11	brl-vector, 8 CEs, no vectors
 1039.2	 1840.0	28.93	alliant, 8 CEs, no vectors
.TE
.fi
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/star.log"	Release 2.3
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  30.5	   36.5	 1.00	brl-vgr
 156.0	  186.4	 5.11	brl-vmb, UTX 2.0
 374.0	  447.0	12.25	brl-vhs, -O2 optimization
 482.2	  574.1	15.73	bob.brl.mil, 1 CPU, UNICOS 3.0, CC -O
 604.2	  719.3	19.71	bob.brl.mil, 1 CPU, UNICOS 3.0, VCC -O
 978.2	 1169.0	32.03	brl-patton, 1 CPU, no vectors, UNICOS 2.1
.TE
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/star.log"	Release 1.20
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  28.4	   33.9	 0.62	tek4132
  37.4	   44.7	 0.81	violet
  41.9	   50.0	 0.91	violet, w/fast_sqrt
  46.0	   55.0	 1.00	brl-vgr
  47.7	   57.0	 1.04	brl-virus
  47.8	   57.2	 1.04	ardec-3
  55.1	   65.8	 1.20	vortac
  75.2	   89.9	 1.64	utah-gr
 150.6	  180.0	 3.27	brl-vector, 1 CE, no vectors (1.00X)
 171.4	  204.8	 3.72	elxsi-m1
 172.0	  205.6	 3.74	c1east, Convex Unix 6.0.1.12, vanilla cc
 176.2	  210.6	 3.83	brl-vmb, UTX 2.0
 178.8	  213.8	 3.89	brl-spark, UTX 2.0
 191.4	  228.7	 4.16	c1east, Convex Unix 6.0.1.12, vc -O2 (vector)
 192.9	  230.5	 4.20	c1east, Convex Unix 6.0.1.12, vc -O1 (scalar)
 198.7	  237.4	 4.32	utah-cs
 206.5	  246.8	 4.49	amsaa-seer, UTX 2.0
 221.3	  264.4	 4.81	elxsi-gnu BSD 4.2
 221.4	  264.6	 4.81	elxsi-gnuy SysV
 262.0	  313.1	 5.69	multiflow (preliminary)
 294.1	  349.3	 6.35	brl-vector, 2 CE, no vectors (1.94X)
 443.4	  523.4	 9.52	brl-vector, 3 CE, no vectors (2.91X)
 577.9	  686.0	12.47	brl-vector, 4 CEs, no vectors (3.81X)
 733.3	  870.2	15.82	brl-vector, 5 CEs, no vectors (4.83X)
 883.1	 1051.6	19.12	brl-vector, 6 CEs, no vectors (5.84X)
1035.2	 1232.3	22.41	brl-vector, 7 CEs, no vectors (6.85X)
1063.7	 1271.2	23.11	brl-patton, 1 CPU, no vectors (1.00X)
1153.8	 1375.4	25.01	brl-vector, 8 CEs, no vectors (7.64X)
1219.9	 1457.2	26.49	alliant, 8 CEs, no vectors
2110.6	 2522.2	45.86	brl-patton, 2 CPUs, no vectors (1.98X)
3138.2	 3749.9	68.18	brl-patton, 3 CPUs, no vectors (2.95X)
4147.1	 4955.6	90.10	brl-patton, 4 CPUs, no vectors (3.90X)
.TE
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/bldg391.log"	Release 2.3
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  23.0	   34.2	 1.00	brl-vgr
 132.0	  196.2	 5.74	brl-vgr, UTX 2.0
 278.6	  414.1	12.11	brl-vhs, -O2 optimization
 383.7	  500.3	15.62	bob.brl.mil, 1 CPU, UNICOS 3.0, CC -O
 467.4	  609.4	17.82	bob.brl.mil, 1 CPU, UNICOS 3.0, VCC -O
 702.1	 1043.6	30.51	brl-patton, 1 CPU, no vectors, UNICOS 2.1
.TE
.sp
.TS
center box;
c s c s
c c c l
n n n l.
FILE:  "bench/bldg391.log"	Release 1.20
=
Pix/sec	Ray/sec	*780	Machine & OS
_
  21.1	   31.4	 0.62	tek4132
  29.7	   44.1	 0.87	violet
  31.1	   46.3	 0.91	violet, w/fast_sqrt
  34.1	   50.7	 1.00	brl-vgr
  35.2	   52.4	 1.03	brl-virus
  40.9	   60.7	 1.20	vortac
  58.2	   86.5	 1.71	utah-gr
  68.5	  101.8	 2.01	indigo
  68.8	  102.3	 2.02	brl-vista
 105.7	  157.1	 3.10	brl-vector, 1 CE, no vectors (1.00X)
 127.4	  189.3	 3.73	elxsi-m1
 129.4	  192.3	 3.80	c1east, Convex Unix 6.0.1.12, vanilla cc
 141.3	  210.0	 4.14	c1east, Convex Unix 6.0.1.12, vc -O2 (vector)
 142.6	  211.9	 4.18	brl-spark, UTX 2.0
 143.0	  212.6	 4.19	brl-vmb, UTX 2.0
 144.7	  215.1	 4.24	c1east, Convex Unix 6.0.1.12, vc -O1 (scalar)
 145.5	  216.2	 4.27	utah-cs
 162.2	  241.0	 4.75	amsaa-seer, UTX 2.0
 162.8	  242.0	 4.77	elxsi-gnu BSD 4.2
 162.9	  242.1	 4.77	elxsi-gnu SysV
 210.6	  312.6	 6.17	brl-vector, 2 CEs, no vectors (1.98X)
 227.7	  338.9	 6.68	multiflow (preliminary)
 310.9	  459.9	 9.07	brl-vector, 3 CEs, no vectors (2.93X)
 405.2	  600.7	11.85	brl-vector, 4 CEs, no vectors (3.82X)
 523.5	  775.9	15.3	brl-vector, 5 CEs, no vectors (4.93X)
 620.0	  918.0	18.1	brl-vector, 6 CEs, no vectors (5.84X)
 691.2	 1027.3	20.26	brl-patton, 1 CPU, no vectors
 719.0	 1065.9	21	brl-vector, 7 CEs, no vectors (6.78X)
 814.6	 1208.4	23.83	brl-vector, 8 CEs, no vectors (7.69X)
 852.4	 1266.4	24.98	alliant, 8 CEs, no vectors
.TE
.fi
.sp 2
It would be greatly appreciated if you would return to BRL any
statistics that you gather, including:  which BRL CAD release
was used, the manufacturer of the machine,
hardware and software version numbers, presence or absence of floating
point hardware, and the name (preferably InterNet or UUCP) of the
specific machine used.
