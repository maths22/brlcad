/*
 *			proc-db/Cakefile
 */

#define SRCDIR	proc-db
#define PRODUCTS	pyramid molecule clutter kurt room tube teapot
#define STATIC_PRODUCTS	mol-data mol-data1 mol-data2 mol-cube \
			mol-gfa2 mol-gfa3
#define	SRCSUFF	.c
#define MANSECTION	1

#include "../Cakefile.defs"
#include "../Cakefile.prog"

/* These programs are not really for system-wide installation */
#define DONT_INSTALL	1
#undef BINDIR
#define BINDIR	/tmp
#define AFTERINSTALL	rm

/* Explicit composition of each product */

tube:	tube.o 
	CC LDFLAGS  tube.o LIBWDB \
		LIBRT RT_CONFIG RT_LIBES LIBSYSV LIBES -o tube

room:	room.o common.o
	CC LDFLAGS  room.o common.o LIBWDB \
		LIBRT RT_CONFIG RT_LIBES LIBSYSV LIBES -o room

clutter:	clutter.o common.o mathtab.o
	CC LDFLAGS  clutter.o common.o LIBWDB \
		LIBRT RT_CONFIG RT_LIBES mathtab.o LIBSYSV LIBES -o clutter

kurt:		kurt.o
	CC LDFLAGS  kurt.o LIBWDB LIBRT RT_CONFIG RT_LIBES \
		LIBSYSV LIBES -o kurt

pyramid:	pyramid.o
	CC LDFLAGS  pyramid.o LIBWDB \
		LIBRT RT_CONFIG RT_LIBES LIBSYSV LIBES -o pyramid

molecule:	molecule.o 
	CC LDFLAGS  molecule.o LIBWDB \
		LIBRT RT_CONFIG RT_LIBES LIBSYSV LIBES -o molecule

teapot:		tea.o
	CC LDFLAGS tea.o LIBWDB LIBRT RT_CONFIG RT_LIBES LIBSYSV LIBES -o teapot

/*
 *  Special rules for additions from other directories
 */
%.o&:	rt,,%,o			if exist ../rt/%.c

%9,,%,o&:	../%9/%.c [[cakeinclude.sh ../%9/%.c INCDIR ../%9]] \
					if exist ../%9/%.c
	CC CFLAGS -c ../%9/%.c

#include "../Cakefile.rules"
